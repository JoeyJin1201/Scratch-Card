let isDrawing, lastPoint;
var canvas       = document.getElementById('js-canvas'),
    canvasWidth  = canvas.width,
    canvasHeight = canvas.height,
    ctx          = canvas.getContext('2d'),
    image        = new Image(),
    brush        = new Image();
    
image.src = 'data:image/jpeg;base64,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';
image.onload = function() {
  ctx.drawImage(image, 0, 0);
  // Show the form when Image is loaded.
  document.querySelectorAll('.form')[0].style.visibility = 'visible';
};
brush.src = 'data:image/png;base64,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';

canvas.addEventListener('mousedown', handleMouseDown, false);
canvas.addEventListener('touchstart', handleMouseDown, false);
canvas.addEventListener('mousemove', handleMouseMove, false);
canvas.addEventListener('touchmove', handleMouseMove, false);
canvas.addEventListener('mouseup', handleMouseUp, false);
canvas.addEventListener('touchend', handleMouseUp, false);

function distanceBetween(point1, point2) {
  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));
}

function angleBetween(point1, point2) {
  return Math.atan2( point2.x - point1.x, point2.y - point1.y );
}

// Only test every `stride` pixel. `stride`x faster,
// but might lead to inaccuracy
function getFilledInPixels(stride) {
  if (!stride || stride < 1) { stride = 1; }
  
  var pixels   = ctx.getImageData(0, 0, canvasWidth, canvasHeight),
      pdata    = pixels.data,
      l        = pdata.length,
      total    = (l / stride),
      count    = 0;
  
  // Iterate over all pixels
  for(var i = count = 0; i < l; i += stride) {
    if (parseInt(pdata[i]) === 0) {
      count++;
    }
  }
  
  return Math.round((count / total) * 100);
}

function getMouse(e, canvas) {
  var offsetX = 0, offsetY = 0, mx, my;

  if (canvas.offsetParent !== undefined) {
    do {
      offsetX += canvas.offsetLeft;
      offsetY += canvas.offsetTop;
    } while ((canvas = canvas.offsetParent));
  }

  mx = (e.pageX || e.touches[0].clientX) - offsetX;
  my = (e.pageY || e.touches[0].clientY) - offsetY;

  return {x: mx, y: my};
}

function handlePercentage(filledInPixels) {
  filledInPixels = filledInPixels || 0;
  // console.log(filledInPixels + '%');
  if (filledInPixels > 50) {
    canvas.parentNode.removeChild(canvas);
  }
}

function handleMouseDown(e) {
  isDrawing = true;
  lastPoint = getMouse(e, canvas);
}

function handleMouseMove(e) {
  if (!isDrawing) { return; }
  
  e.preventDefault();

  let currentPoint = getMouse(e, canvas),
      dist = distanceBetween(lastPoint, currentPoint),
      angle = angleBetween(lastPoint, currentPoint),
      x, y;
  
  for (let i = 0; i < dist; i++) {
    x = lastPoint.x + (Math.sin(angle) * i) - 25;
    y = lastPoint.y + (Math.cos(angle) * i) - 25;
    ctx.globalCompositeOperation = 'destination-out';
    ctx.drawImage(brush, x, y);
  }
  
  lastPoint = currentPoint;
  handlePercentage(getFilledInPixels(32));
}

function handleMouseUp(e) {
  isDrawing = false;
}